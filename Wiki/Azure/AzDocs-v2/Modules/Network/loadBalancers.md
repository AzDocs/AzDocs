# loadBalancers

Target Scope: resourceGroup

## Parameters
| Name | Type | Required | Validation | Default value | Description |
| -- |  -- | -- | -- | -- | -- |
| location | string | <input type="checkbox"> | None | <pre>resourceGroup().location</pre> | Specifies the Azure location where the resource should be created. Defaults to the resourcegroup location. |
| tags | object | <input type="checkbox"> | None | <pre>{}</pre> | The tags to apply to this resource. This is an object with key/value pairs.<br>Example:<br>{<br>&nbsp;&nbsp;&nbsp;FirstTag: myvalue<br>&nbsp;&nbsp;&nbsp;SecondTag: another value<br>} |
| loadBalancerName | string | <input type="checkbox" checked> | Length between 1-76 | <pre></pre> | Specifies the name of the loadbalancer. This can be suffixed with the environmentType parameter. Format: <loadBalancerName>-<environmentType>.<br>Min length: 1<br>Max length: 76 |
| backendAddressPools | array | <input type="checkbox"> | None | <pre>[]</pre> | A list of backend address pools to apply to this loadbalancer. For object formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep#backendaddresspool. |
| loadBalancerPublicIpAddressName | string | <input type="checkbox"> | Length between 0-80 | <pre>''</pre> | The public ip for the Load Balancer. This Public IP should be pre-existing. |
| privateFrontendIpVirtualNetworkName | string | <input type="checkbox"> | Length between 0-80 | <pre>''</pre> | Required when using private frontend ip addresses. The name of the virtual network in which you want to onboard this loadbalancer\'s private frontend ip. |
| privateFrontendIpSubnetName | string | <input type="checkbox"> | Length between 0-80 | <pre>''</pre> | Required when using private frontend ip addresses. The name of the subnet in which you want to onboard this loadbalancer\'s private frontend ip. |
| loadBalancerExposureType | string | <input type="checkbox"> | `'Internal'` or `'Public'` | <pre>'Internal'</pre> | Do you want to expose this loadbalancer on the internet (Public) or on your internal ranges only (Internal). |
| frontendIPConfigurations | array | <input type="checkbox"> | None | <pre>loadBalancerExposureType == 'Public' ? [</pre> | Define the Frontend Ip Configuration you want to use for this Load Balancer. For formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep.<br>Defaults to a default public or internal frontend ip based on the `loadBalancerExposureType` parameter. If you override this, the `loadBalancerExposureType` parameter gets useless. |
| loadBalancerSku | object | <input type="checkbox"> | None | <pre>{<br>  name: 'Standard'<br>  tier: 'Regional'<br>}</pre> | Define the sku you want to use for this Load Balancer. For formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep.<br>Quick examples:<br>Among others, options are:<br>`name`: Type for the Load Balancer.<br>`tier`: Tier for the Load Balancer. |
| loadBalancingRules | array | <input type="checkbox"> | None | <pre>[]</pre> | Define the rules you want to use for this Load Balancer. For formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep.<br><br>Example:<br>[<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: '&#36;{loadBalancerName}-udp'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properties: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frontendIPConfiguration: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: '&#36;{subscription().id}/resourceGroups/&#36;{resourceGroup().name}/providers/Microsoft.Network/loadBalancers/&#36;{loadBalancerName}/frontendIPConfigurations/&#36;{loadBalancerFrontendIPName}'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backendAddressPool: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: '&#36;{subscription().id}/resourceGroups/&#36;{resourceGroup().name}/providers/Microsoft.Network/loadBalancers/&#36;{loadBalancerName}/backendAddressPools/&#36;{loadBalancerBackendPoolName}'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol: 'Udp'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frontendPort: 53<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backendPort: 53<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enableFloatingIP: false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idleTimeoutInMinutes: 5<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;probe: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: '&#36;{subscription().id}/resourceGroups/&#36;{resourceGroup().name}/providers/Microsoft.Network/loadBalancers/&#36;{loadBalancerName}/probes/&#36;{loadBalancerName}-probe'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: '&#36;{loadBalancerName}-tcp'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properties: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frontendIPConfiguration: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: '&#36;{subscription().id}/resourceGroups/&#36;{resourceGroup().name}/providers/Microsoft.Network/loadBalancers/&#36;{loadBalancerName}/frontendIPConfigurations/&#36;{loadBalancerFrontendIPName}'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backendAddressPool: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: '&#36;{subscription().id}/resourceGroups/&#36;{resourceGroup().name}/providers/Microsoft.Network/loadBalancers/&#36;{loadBalancerName}/backendAddressPools/&#36;{loadBalancerBackendPoolName}'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol: 'Tcp'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frontendPort: 53<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backendPort: 53<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enableFloatingIP: false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idleTimeoutInMinutes: 5<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;probe: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: '&#36;{subscription().id}/resourceGroups/&#36;{resourceGroup().name}/providers/Microsoft.Network/loadBalancers/&#36;{loadBalancerName}/probes/&#36;{loadBalancerName}-probe'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;}<br>] |
| loadBalancingProbes | array | <input type="checkbox"> | None | <pre>[]</pre> | Define the health probes you want to use for the rules of this Load Balancer. For formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep.<br><br>[<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: '&#36;{loadBalancerName}-probe'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properties: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol: 'Tcp'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port: 53<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intervalInSeconds: 5<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numberOfProbes: 2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;}<br>] |
| inboundNatRules | array | <input type="checkbox"> | None | <pre>[]</pre> | Define the inbound nat rules you want to use for this Load Balancer. For formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep. |
| outboundNatRules | array | <input type="checkbox"> | None | <pre>[]</pre> | Define the outbound rules you want to use for this Load Balancer. For formatting & options, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.network/loadbalancers?pivots=deployment-language-bicep. |
| diagnosticsName | string | <input type="checkbox"> | Length between 1-260 | <pre>'AzurePlatformCentralizedLogging'</pre> | The name of the diagnostics. This defaults to `AzurePlatformCentralizedLogging`. |
| logAnalyticsWorkspaceResourceId | string | <input type="checkbox" checked> | Length between 0-* | <pre></pre> | The azure resource id of the log analytics workspace to log the diagnostics to. If you set this to an empty string, logging & diagnostics will be disabled. |
| diagnosticSettingsLogsCategories | array | <input type="checkbox"> | None | <pre>[<br>  {<br>    categoryGroup: 'allLogs'<br>    enabled: true<br>  }<br>]</pre> | Which log categories to enable; This defaults to `allLogs`. For array/object format, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.insights/diagnosticsettings?tabs=bicep#logsettings. |
| diagnosticSettingsMetricsCategories | array | <input type="checkbox"> | None | <pre>[<br>  {<br>    categoryGroup: 'AllMetrics'<br>    enabled: true<br>  }<br>]</pre> | Which Metrics categories to enable; This defaults to `AllMetrics`. For array/object format, please refer to https://docs.microsoft.com/en-us/azure/templates/microsoft.insights/diagnosticsettings?tabs=bicep&pivots=deployment-language-bicep#metricsettings |
## Outputs
| Name | Type | Description |
| -- |  -- | -- |
| loadBalancerName | string | Outputs the resource name of the upserted Load Balancer. |
| loadBalancerResourceId | string | Outputs the Resource ID of the upserted Load Balancer. |
| loadBalancerBackendAddressPools | array | Outputs a list of upserted backend address pools. |

